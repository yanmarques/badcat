# badcat

This a tool intended to be used by Red Teams, in order to mimic APT ([Advanced Persistent Threat](https://csrc.nist.gov/glossary/term/advanced_persistent_threat)) attacks. It hides the C2 ([Command and Control](https://csrc.nist.gov/glossary/term/C2)) server by using [Onion Services](https://community.torproject.org/onion-services/overview/) to masquerade attacker's real IP address.

# Glossary
_attacker_: conductor of the attack.
_victim_: the target machine of the attack.
_backdoor_: executable generated by the _attacker_ and delivered to _victim_
_server_: _backdoor_ running Tor Onion Service on the _victim_.

# Features

- authentication to access the _server_.
- optional use of payload (aka shellcode) in the _backdoor_, which is only executed once the attacker connects evading any AV real time monitoring. When not using a payload, fallback to badcat's basic shell.
- XOR encryption of embedded Tor executable and payload.
- full [rust](https://www.rust-lang.org/) source code, which may help to evade static signature detection.

# Alternatives

So far I have only found [ToRat](https://github.com/lu4p/ToRat) as a good alternative.

## ToRat

ToRat is a Remote Administration tool using Tor as a transport mechanism and RPC for communication. There conceptual differences between badcat and ToRat. The former focuses at creating an environment for shipping an anonymous backdoor  with user adaptable payload. On the other hand, ToRat tries to be an All-In-One solution, featuring among other things, util commands via RPC, cross-platform and multi-user persistence, code obfuscation.

The big advantage of badcat compared to ToRat is the way it uses the Onion Service. Differently than ToRat, the server starts in the client and the attacker connects to the server, using the bind tcp approach. The main reason for this is convinience, because the attacker never needs to worry about keeping a server up and running, and by that I mean, secured, with log-rotation and backups. One other argument - although as far as I know nothing confirm that - it's that the attack surface to deanonymize an Onion Service is in a higher degree than to deanonymize a common Tor user.

# Getting Started

## Install Rust

1. Follow the instructions to install `rustup` tool: https://www.rust-lang.org/tools/install.
Select the default installation. Rustup prepares your environment to 

```bash

    stable-x86_64-unknown-linux-gnu installed - rustc 1.56.1 (59eed8a2a 2021-11-01)


Rust is installed now. Great!

To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo's bin directory ($HOME/.cargo/bin).

To configure your current shell, run:
source $HOME/.cargo/env
```

## Simple Quick Usage

Let's breakdown the steps to gain remote command execution into 4 steps.

1. Compile the attacker toolkit once.


